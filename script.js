// Data structure - paste your complete data here
const data = {
    overallData: [
        {
      "date": "2019-01",
      "n": 179
    },
    {
      "date": "2019-02",
      "n": 80
    },
    {
      "date": "2019-03",
      "n": 266
    },
    {
      "date": "2019-04",
      "n": 271
    },
    {
      "date": "2019-05",
      "n": 285
    },
    {
      "date": "2019-06",
      "n": 285
    },
    {
      "date": "2019-07",
      "n": 222
    },
    {
      "date": "2019-08",
      "n": 263
    },
    {
      "date": "2019-09",
      "n": 246
    },
    {
      "date": "2019-10",
      "n": 318
    },
    {
      "date": "2019-11",
      "n": 281
    },
    {
      "date": "2019-12",
      "n": 332
    },
    {
      "date": "2020-01",
      "n": 328
    },
    {
      "date": "2020-02",
      "n": 122
    },
    {
      "date": "2020-03",
      "n": 312
    },
    {
      "date": "2020-04",
      "n": 387
    },
    {
      "date": "2020-05",
      "n": 375
    },
    {
      "date": "2020-06",
      "n": 336
    },
    {
      "date": "2020-07",
      "n": 374
    },
    {
      "date": "2020-08",
      "n": 378
    },
    {
      "date": "2020-09",
      "n": 356
    },
    {
      "date": "2020-10",
      "n": 369
    },
    {
      "date": "2020-11",
      "n": 355
    },
    {
      "date": "2020-12",
      "n": 290
    },
    {
      "date": "2021-01",
      "n": 290
    },
    {
      "date": "2021-02",
      "n": 148
    },
    {
      "date": "2021-03",
      "n": 293
    },
    {
      "date": "2021-04",
      "n": 292
    },
    {
      "date": "2021-05",
      "n": 243
    },
    {
      "date": "2021-06",
      "n": 264
    },
    {
      "date": "2021-07",
      "n": 282
    },
    {
      "date": "2021-08",
      "n": 297
    },
    {
      "date": "2021-09",
      "n": 247
    },
    {
      "date": "2021-10",
      "n": 285
    },
    {
      "date": "2021-11",
      "n": 291
    },
    {
      "date": "2021-12",
      "n": 245
    },
    {
      "date": "2022-01",
      "n": 256
    },
    {
      "date": "2022-02",
      "n": 122
    },
    {
      "date": "2022-03",
      "n": 238
    },
    {
      "date": "2022-04",
      "n": 278
    },
    {
      "date": "2022-05",
      "n": 298
    },
    {
      "date": "2022-06",
      "n": 271
    },
    {
      "date": "2022-07",
      "n": 296
    },
    {
      "date": "2022-08",
      "n": 355
    },
    {
      "date": "2022-09",
      "n": 266
    },
    {
      "date": "2022-10",
      "n": 313
    },
    {
      "date": "2022-11",
      "n": 273
    },
    {
      "date": "2022-12",
      "n": 264
    },
    {
      "date": "2023-01",
      "n": 243
    },
    {
      "date": "2023-02",
      "n": 121
    },
    {
      "date": "2023-03",
      "n": 429
    },
    {
      "date": "2023-04",
      "n": 322
    },
    {
      "date": "2023-05",
      "n": 388
    },
    {
      "date": "2023-06",
      "n": 350
    },
    {
      "date": "2023-07",
      "n": 352
    },
    {
      "date": "2023-08",
      "n": 378
    },
    {
      "date": "2023-09",
      "n": 304
    },
    {
      "date": "2023-10",
      "n": 331
    },
    {
      "date": "2023-11",
      "n": 358
    },
    {
      "date": "2023-12",
      "n": 439
    },
        // Add all your overall data here
    ],
    thinkTanks: [
        {
      "id": "CDC",
      "name": "Centro Democracia y Comunidad",
      "total": 171,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/cdc.png",
      "data": [
        {
          "date": "2019-01",
          "n": 1
        },
        {
          "date": "2019-02",
          "n": 0
        },
        {
          "date": "2019-03",
          "n": 1
        },
        {
          "date": "2019-04",
          "n": 3
        },
        {
          "date": "2019-05",
          "n": 1
        },
        {
          "date": "2019-06",
          "n": 0
        },
        {
          "date": "2019-07",
          "n": 1
        },
        {
          "date": "2019-08",
          "n": 0
        },
        {
          "date": "2019-09",
          "n": 0
        },
        {
          "date": "2019-10",
          "n": 1
        },
        {
          "date": "2019-11",
          "n": 0
        },
        {
          "date": "2019-12",
          "n": 1
        },
        {
          "date": "2020-01",
          "n": 1
        },
        {
          "date": "2020-02",
          "n": 0
        },
        {
          "date": "2020-03",
          "n": 0
        },
        {
          "date": "2020-04",
          "n": 0
        },
        {
          "date": "2020-05",
          "n": 0
        },
        {
          "date": "2020-06",
          "n": 0
        },
        {
          "date": "2020-07",
          "n": 0
        },
        {
          "date": "2020-08",
          "n": 0
        },
        {
          "date": "2020-09",
          "n": 0
        },
        {
          "date": "2020-10",
          "n": 0
        },
        {
          "date": "2020-11",
          "n": 0
        },
        {
          "date": "2020-12",
          "n": 1
        },
        {
          "date": "2021-01",
          "n": 2
        },
        {
          "date": "2021-02",
          "n": 0
        },
        {
          "date": "2021-03",
          "n": 1
        },
        {
          "date": "2021-04",
          "n": 0
        },
        {
          "date": "2021-05",
          "n": 1
        },
        {
          "date": "2021-06",
          "n": 0
        },
        {
          "date": "2021-07",
          "n": 7
        },
        {
          "date": "2021-08",
          "n": 15
        },
        {
          "date": "2021-09",
          "n": 1
        },
        {
          "date": "2021-10",
          "n": 7
        },
        {
          "date": "2021-11",
          "n": 9
        },
        {
          "date": "2021-12",
          "n": 18
        },
        {
          "date": "2022-01",
          "n": 8
        },
        {
          "date": "2022-02",
          "n": 5
        },
        {
          "date": "2022-03",
          "n": 9
        },
        {
          "date": "2022-04",
          "n": 9
        },
        {
          "date": "2022-05",
          "n": 5
        },
        {
          "date": "2022-06",
          "n": 2
        },
        {
          "date": "2022-07",
          "n": 7
        },
        {
          "date": "2022-08",
          "n": 4
        },
        {
          "date": "2022-09",
          "n": 10
        },
        {
          "date": "2022-10",
          "n": 10
        },
        {
          "date": "2022-11",
          "n": 4
        },
        {
          "date": "2022-12",
          "n": 8
        },
        {
          "date": "2023-01",
          "n": 6
        },
        {
          "date": "2023-02",
          "n": 0
        },
        {
          "date": "2023-03",
          "n": 2
        },
        {
          "date": "2023-04",
          "n": 4
        },
        {
          "date": "2023-05",
          "n": 1
        },
        {
          "date": "2023-06",
          "n": 4
        },
        {
          "date": "2023-07",
          "n": 1
        }
      ]
    },
    {
      "id": "CED",
      "name": "Centro de Estudios del Desarrollo",
      "total": 265,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/ced.png",
      "data": [
        {
          "date": "2019-01",
          "n": 1
        },
        {
          "date": "2019-02",
          "n": 1
        },
        {
          "date": "2019-03",
          "n": 1
        },
        {
          "date": "2019-04",
          "n": 2
        },
        {
          "date": "2019-05",
          "n": 1
        },
        {
          "date": "2019-06",
          "n": 1
        },
        {
          "date": "2019-07",
          "n": 2
        },
        {
          "date": "2019-08",
          "n": 0
        },
        {
          "date": "2019-09",
          "n": 3
        },
        {
          "date": "2019-10",
          "n": 0
        },
        {
          "date": "2019-11",
          "n": 0
        },
        {
          "date": "2019-12",
          "n": 3
        },
        {
          "date": "2020-01",
          "n": 2
        },
        {
          "date": "2020-02",
          "n": 0
        },
        {
          "date": "2020-03",
          "n": 2
        },
        {
          "date": "2020-04",
          "n": 0
        },
        {
          "date": "2020-05",
          "n": 0
        },
        {
          "date": "2020-06",
          "n": 1
        },
        {
          "date": "2020-07",
          "n": 2
        },
        {
          "date": "2020-08",
          "n": 2
        },
        {
          "date": "2020-09",
          "n": 2
        },
        {
          "date": "2020-10",
          "n": 2
        },
        {
          "date": "2020-11",
          "n": 2
        },
        {
          "date": "2020-12",
          "n": 2
        },
        {
          "date": "2021-01",
          "n": 1
        },
        {
          "date": "2021-02",
          "n": 0
        },
        {
          "date": "2021-03",
          "n": 1
        },
        {
          "date": "2021-04",
          "n": 0
        },
        {
          "date": "2021-05",
          "n": 1
        },
        {
          "date": "2021-06",
          "n": 1
        },
        {
          "date": "2021-07",
          "n": 2
        },
        {
          "date": "2021-08",
          "n": 3
        },
        {
          "date": "2021-09",
          "n": 5
        },
        {
          "date": "2021-10",
          "n": 4
        },
        {
          "date": "2021-11",
          "n": 3
        },
        {
          "date": "2021-12",
          "n": 2
        },
        {
          "date": "2022-01",
          "n": 5
        },
        {
          "date": "2022-02",
          "n": 10
        },
        {
          "date": "2022-03",
          "n": 9
        },
        {
          "date": "2022-04",
          "n": 6
        },
        {
          "date": "2022-05",
          "n": 11
        },
        {
          "date": "2022-06",
          "n": 7
        },
        {
          "date": "2022-07",
          "n": 12
        },
        {
          "date": "2022-08",
          "n": 9
        },
        {
          "date": "2022-09",
          "n": 5
        },
        {
          "date": "2022-10",
          "n": 6
        },
        {
          "date": "2022-11",
          "n": 7
        },
        {
          "date": "2022-12",
          "n": 5
        },
        {
          "date": "2023-01",
          "n": 6
        },
        {
          "date": "2023-02",
          "n": 0
        },
        {
          "date": "2023-03",
          "n": 18
        },
        {
          "date": "2023-04",
          "n": 14
        },
        {
          "date": "2023-05",
          "n": 18
        },
        {
          "date": "2023-06",
          "n": 15
        },
        {
          "date": "2023-07",
          "n": 13
        },
        {
          "date": "2023-08",
          "n": 9
        },
        {
          "date": "2023-09",
          "n": 9
        },
        {
          "date": "2023-10",
          "n": 7
        },
        {
          "date": "2023-11",
          "n": 5
        },
        {
          "date": "2023-12",
          "n": 4
        }
      ]
    },
    {
      "id": "CEP",
      "name": "Centro de Estudios Públicos",
      "total": 1998,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/cep.svg",
      "data": [
        {
          "date": "2019-01",
          "n": 8
        },
        {
          "date": "2019-02",
          "n": 0
        },
        {
          "date": "2019-03",
          "n": 2
        },
        {
          "date": "2019-04",
          "n": 2
        },
        {
          "date": "2019-05",
          "n": 2
        },
        {
          "date": "2019-06",
          "n": 4
        },
        {
          "date": "2019-07",
          "n": 5
        },
        {
          "date": "2019-08",
          "n": 9
        },
        {
          "date": "2019-09",
          "n": 3
        },
        {
          "date": "2019-10",
          "n": 31
        },
        {
          "date": "2019-11",
          "n": 68
        },
        {
          "date": "2019-12",
          "n": 29
        },
        {
          "date": "2020-01",
          "n": 41
        },
        {
          "date": "2020-02",
          "n": 6
        },
        {
          "date": "2020-03",
          "n": 23
        },
        {
          "date": "2020-04",
          "n": 31
        },
        {
          "date": "2020-05",
          "n": 38
        },
        {
          "date": "2020-06",
          "n": 28
        },
        {
          "date": "2020-07",
          "n": 35
        },
        {
          "date": "2020-08",
          "n": 37
        },
        {
          "date": "2020-09",
          "n": 43
        },
        {
          "date": "2020-10",
          "n": 40
        },
        {
          "date": "2020-11",
          "n": 58
        },
        {
          "date": "2020-12",
          "n": 39
        },
        {
          "date": "2021-01",
          "n": 41
        },
        {
          "date": "2021-02",
          "n": 17
        },
        {
          "date": "2021-03",
          "n": 33
        },
        {
          "date": "2021-04",
          "n": 39
        },
        {
          "date": "2021-05",
          "n": 34
        },
        {
          "date": "2021-06",
          "n": 33
        },
        {
          "date": "2021-07",
          "n": 34
        },
        {
          "date": "2021-08",
          "n": 35
        },
        {
          "date": "2021-09",
          "n": 35
        },
        {
          "date": "2021-10",
          "n": 30
        },
        {
          "date": "2021-11",
          "n": 41
        },
        {
          "date": "2021-12",
          "n": 29
        },
        {
          "date": "2022-01",
          "n": 46
        },
        {
          "date": "2022-02",
          "n": 21
        },
        {
          "date": "2022-03",
          "n": 47
        },
        {
          "date": "2022-04",
          "n": 49
        },
        {
          "date": "2022-05",
          "n": 50
        },
        {
          "date": "2022-06",
          "n": 51
        },
        {
          "date": "2022-07",
          "n": 38
        },
        {
          "date": "2022-08",
          "n": 97
        },
        {
          "date": "2022-09",
          "n": 45
        },
        {
          "date": "2022-10",
          "n": 52
        },
        {
          "date": "2022-11",
          "n": 51
        },
        {
          "date": "2022-12",
          "n": 45
        },
        {
          "date": "2023-01",
          "n": 42
        },
        {
          "date": "2023-02",
          "n": 22
        },
        {
          "date": "2023-03",
          "n": 52
        },
        {
          "date": "2023-04",
          "n": 33
        },
        {
          "date": "2023-05",
          "n": 38
        },
        {
          "date": "2023-06",
          "n": 43
        },
        {
          "date": "2023-07",
          "n": 41
        },
        {
          "date": "2023-08",
          "n": 38
        },
        {
          "date": "2023-09",
          "n": 25
        },
        {
          "date": "2023-10",
          "n": 26
        },
        {
          "date": "2023-11",
          "n": 34
        },
        {
          "date": "2023-12",
          "n": 29
        }
      ]
    },
    {
      "id": "CLAPES",
      "name": "CLAPES UC",
      "total": 205,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/clapesuc.webp",
      "data": [
        {
          "date": "2019-01",
          "n": 1
        },
        {
          "date": "2019-02",
          "n": 0
        },
        {
          "date": "2019-03",
          "n": 1
        },
        {
          "date": "2019-04",
          "n": 2
        },
        {
          "date": "2019-05",
          "n": 0
        },
        {
          "date": "2019-06",
          "n": 0
        },
        {
          "date": "2019-07",
          "n": 1
        },
        {
          "date": "2019-08",
          "n": 3
        },
        {
          "date": "2019-09",
          "n": 2
        },
        {
          "date": "2019-10",
          "n": 1
        },
        {
          "date": "2019-11",
          "n": 1
        },
        {
          "date": "2019-12",
          "n": 0
        },
        {
          "date": "2020-01",
          "n": 2
        },
        {
          "date": "2020-02",
          "n": 0
        },
        {
          "date": "2020-03",
          "n": 0
        },
        {
          "date": "2020-04",
          "n": 0
        },
        {
          "date": "2020-05",
          "n": 1
        },
        {
          "date": "2020-06",
          "n": 4
        },
        {
          "date": "2020-07",
          "n": 3
        },
        {
          "date": "2020-08",
          "n": 2
        },
        {
          "date": "2020-09",
          "n": 1
        },
        {
          "date": "2020-10",
          "n": 2
        },
        {
          "date": "2020-11",
          "n": 2
        },
        {
          "date": "2020-12",
          "n": 0
        },
        {
          "date": "2021-01",
          "n": 1
        },
        {
          "date": "2021-02",
          "n": 0
        },
        {
          "date": "2021-03",
          "n": 3
        },
        {
          "date": "2021-04",
          "n": 1
        },
        {
          "date": "2021-05",
          "n": 4
        },
        {
          "date": "2021-06",
          "n": 2
        },
        {
          "date": "2021-07",
          "n": 4
        },
        {
          "date": "2021-08",
          "n": 3
        },
        {
          "date": "2021-09",
          "n": 2
        },
        {
          "date": "2021-10",
          "n": 3
        },
        {
          "date": "2021-11",
          "n": 3
        },
        {
          "date": "2021-12",
          "n": 1
        },
        {
          "date": "2022-01",
          "n": 2
        },
        {
          "date": "2022-02",
          "n": 0
        },
        {
          "date": "2022-03",
          "n": 2
        },
        {
          "date": "2022-04",
          "n": 4
        },
        {
          "date": "2022-05",
          "n": 2
        },
        {
          "date": "2022-06",
          "n": 2
        },
        {
          "date": "2022-07",
          "n": 0
        },
        {
          "date": "2022-08",
          "n": 8
        },
        {
          "date": "2022-09",
          "n": 2
        },
        {
          "date": "2022-10",
          "n": 5
        },
        {
          "date": "2022-11",
          "n": 2
        },
        {
          "date": "2022-12",
          "n": 2
        },
        {
          "date": "2023-01",
          "n": 2
        },
        {
          "date": "2023-02",
          "n": 0
        },
        {
          "date": "2023-03",
          "n": 3
        },
        {
          "date": "2023-04",
          "n": 2
        },
        {
          "date": "2023-05",
          "n": 3
        },
        {
          "date": "2023-06",
          "n": 3
        },
        {
          "date": "2023-07",
          "n": 4
        },
        {
          "date": "2023-08",
          "n": 3
        },
        {
          "date": "2023-09",
          "n": 3
        },
        {
          "date": "2023-10",
          "n": 1
        },
        {
          "date": "2023-11",
          "n": 5
        },
        {
          "date": "2023-12",
          "n": 89
        }
      ]
    },
    {
      "id": "CasaComun",
      "name": "Casa Común",
      "total": 227,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/casacomun.jpg",
      "data": [
        {
          "date": "2019-01",
          "n": 2
        },
        {
          "date": "2019-02",
          "n": 0
        },
        {
          "date": "2019-03",
          "n": 5
        },
        {
          "date": "2019-04",
          "n": 2
        },
        {
          "date": "2019-05",
          "n": 3
        },
        {
          "date": "2019-06",
          "n": 3
        },
        {
          "date": "2019-07",
          "n": 4
        },
        {
          "date": "2019-08",
          "n": 1
        },
        {
          "date": "2019-09",
          "n": 5
        },
        {
          "date": "2019-10",
          "n": 0
        },
        {
          "date": "2019-11",
          "n": 1
        },
        {
          "date": "2019-12",
          "n": 1
        },
        {
          "date": "2020-01",
          "n": 3
        },
        {
          "date": "2020-02",
          "n": 4
        },
        {
          "date": "2020-03",
          "n": 2
        },
        {
          "date": "2020-04",
          "n": 3
        },
        {
          "date": "2020-05",
          "n": 7
        },
        {
          "date": "2020-06",
          "n": 5
        },
        {
          "date": "2020-07",
          "n": 5
        },
        {
          "date": "2020-08",
          "n": 8
        },
        {
          "date": "2020-09",
          "n": 10
        },
        {
          "date": "2020-10",
          "n": 7
        },
        {
          "date": "2020-11",
          "n": 6
        },
        {
          "date": "2020-12",
          "n": 5
        },
        {
          "date": "2021-01",
          "n": 3
        },
        {
          "date": "2021-02",
          "n": 4
        },
        {
          "date": "2021-03",
          "n": 6
        },
        {
          "date": "2021-04",
          "n": 5
        },
        {
          "date": "2021-05",
          "n": 7
        },
        {
          "date": "2021-06",
          "n": 9
        },
        {
          "date": "2021-07",
          "n": 8
        },
        {
          "date": "2021-08",
          "n": 6
        },
        {
          "date": "2021-09",
          "n": 8
        },
        {
          "date": "2021-10",
          "n": 9
        },
        {
          "date": "2021-11",
          "n": 5
        },
        {
          "date": "2021-12",
          "n": 4
        },
        {
          "date": "2022-01",
          "n": 7
        },
        {
          "date": "2022-02",
          "n": 6
        },
        {
          "date": "2022-03",
          "n": 5
        },
        {
          "date": "2022-04",
          "n": 8
        },
        {
          "date": "2022-05",
          "n": 6
        },
        {
          "date": "2022-06",
          "n": 6
        },
        {
          "date": "2022-07",
          "n": 2
        },
        {
          "date": "2022-08",
          "n": 2
        },
        {
          "date": "2022-09",
          "n": 1
        },
        {
          "date": "2022-10",
          "n": 4
        },
        {
          "date": "2022-11",
          "n": 0
        },
        {
          "date": "2022-12",
          "n": 3
        },
        {
          "date": "2023-01",
          "n": 0
        },
        {
          "date": "2023-02",
          "n": 1
        },
        {
          "date": "2023-03",
          "n": 3
        },
        {
          "date": "2023-04",
          "n": 4
        },
        {
          "date": "2023-05",
          "n": 2
        },
        {
          "date": "2023-06",
          "n": 0
        },
        {
          "date": "2023-07",
          "n": 0
        },
        {
          "date": "2023-08",
          "n": 0
        },
        {
          "date": "2023-09",
          "n": 1
        }
      ]
    },
    {
      "id": "Chile21",
      "name": "Chile 21",
      "total": 288,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/chile21.svg",
      "data": [
        {
          "date": "2019-01",
          "n": 3
        },
        {
          "date": "2019-02",
          "n": 0
        },
        {
          "date": "2019-03",
          "n": 14
        },
        {
          "date": "2019-04",
          "n": 15
        },
        {
          "date": "2019-05",
          "n": 13
        },
        {
          "date": "2019-06",
          "n": 10
        },
        {
          "date": "2019-07",
          "n": 4
        },
        {
          "date": "2019-08",
          "n": 5
        },
        {
          "date": "2019-09",
          "n": 5
        },
        {
          "date": "2019-10",
          "n": 9
        },
        {
          "date": "2019-11",
          "n": 6
        },
        {
          "date": "2019-12",
          "n": 3
        },
        {
          "date": "2020-01",
          "n": 1
        },
        {
          "date": "2020-02",
          "n": 4
        },
        {
          "date": "2020-03",
          "n": 3
        },
        {
          "date": "2020-04",
          "n": 10
        },
        {
          "date": "2020-05",
          "n": 14
        },
        {
          "date": "2020-06",
          "n": 13
        },
        {
          "date": "2020-07",
          "n": 7
        },
        {
          "date": "2020-08",
          "n": 8
        },
        {
          "date": "2020-09",
          "n": 17
        },
        {
          "date": "2020-10",
          "n": 6
        },
        {
          "date": "2020-11",
          "n": 4
        },
        {
          "date": "2020-12",
          "n": 3
        },
        {
          "date": "2021-01",
          "n": 5
        },
        {
          "date": "2021-02",
          "n": 1
        },
        {
          "date": "2021-03",
          "n": 2
        },
        {
          "date": "2021-04",
          "n": 2
        },
        {
          "date": "2021-05",
          "n": 4
        },
        {
          "date": "2021-06",
          "n": 2
        },
        {
          "date": "2021-07",
          "n": 5
        },
        {
          "date": "2021-08",
          "n": 5
        },
        {
          "date": "2021-09",
          "n": 5
        },
        {
          "date": "2021-10",
          "n": 7
        },
        {
          "date": "2021-11",
          "n": 6
        },
        {
          "date": "2021-12",
          "n": 6
        },
        {
          "date": "2022-01",
          "n": 5
        },
        {
          "date": "2022-02",
          "n": 3
        },
        {
          "date": "2022-03",
          "n": 5
        },
        {
          "date": "2022-04",
          "n": 5
        },
        {
          "date": "2022-05",
          "n": 4
        },
        {
          "date": "2022-06",
          "n": 7
        },
        {
          "date": "2022-07",
          "n": 2
        },
        {
          "date": "2022-08",
          "n": 0
        },
        {
          "date": "2022-09",
          "n": 0
        },
        {
          "date": "2022-10",
          "n": 0
        },
        {
          "date": "2022-11",
          "n": 0
        },
        {
          "date": "2022-12",
          "n": 0
        },
        {
          "date": "2023-01",
          "n": 1
        },
        {
          "date": "2023-02",
          "n": 1
        },
        {
          "date": "2023-03",
          "n": 1
        },
        {
          "date": "2023-04",
          "n": 1
        },
        {
          "date": "2023-05",
          "n": 7
        },
        {
          "date": "2023-06",
          "n": 2
        },
        {
          "date": "2023-07",
          "n": 0
        },
        {
          "date": "2023-08",
          "n": 1
        },
        {
          "date": "2023-09",
          "n": 2
        },
        {
          "date": "2023-10",
          "n": 1
        },
        {
          "date": "2023-11",
          "n": 5
        },
        {
          "date": "2023-12",
          "n": 8
        }
      ]
    },
    {
      "id": "EspPublico",
      "name": "Espacio Público",
      "total": 1525,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/espaciopublico.png",
      "data": [
        {
          "date": "2019-01",
          "n": 8
        },
        {
          "date": "2019-02",
          "n": 0
        },
        {
          "date": "2019-03",
          "n": 7
        },
        {
          "date": "2019-04",
          "n": 6
        },
        {
          "date": "2019-05",
          "n": 6
        },
        {
          "date": "2019-06",
          "n": 15
        },
        {
          "date": "2019-07",
          "n": 11
        },
        {
          "date": "2019-08",
          "n": 23
        },
        {
          "date": "2019-09",
          "n": 35
        },
        {
          "date": "2019-10",
          "n": 38
        },
        {
          "date": "2019-11",
          "n": 25
        },
        {
          "date": "2019-12",
          "n": 58
        },
        {
          "date": "2020-01",
          "n": 56
        },
        {
          "date": "2020-02",
          "n": 13
        },
        {
          "date": "2020-03",
          "n": 41
        },
        {
          "date": "2020-04",
          "n": 45
        },
        {
          "date": "2020-05",
          "n": 38
        },
        {
          "date": "2020-06",
          "n": 45
        },
        {
          "date": "2020-07",
          "n": 41
        },
        {
          "date": "2020-08",
          "n": 67
        },
        {
          "date": "2020-09",
          "n": 46
        },
        {
          "date": "2020-10",
          "n": 39
        },
        {
          "date": "2020-11",
          "n": 52
        },
        {
          "date": "2020-12",
          "n": 29
        },
        {
          "date": "2021-01",
          "n": 33
        },
        {
          "date": "2021-02",
          "n": 33
        },
        {
          "date": "2021-03",
          "n": 32
        },
        {
          "date": "2021-04",
          "n": 38
        },
        {
          "date": "2021-05",
          "n": 22
        },
        {
          "date": "2021-06",
          "n": 19
        },
        {
          "date": "2021-07",
          "n": 34
        },
        {
          "date": "2021-08",
          "n": 26
        },
        {
          "date": "2021-09",
          "n": 15
        },
        {
          "date": "2021-10",
          "n": 25
        },
        {
          "date": "2021-11",
          "n": 18
        },
        {
          "date": "2021-12",
          "n": 19
        },
        {
          "date": "2022-01",
          "n": 16
        },
        {
          "date": "2022-02",
          "n": 12
        },
        {
          "date": "2022-03",
          "n": 13
        },
        {
          "date": "2022-04",
          "n": 15
        },
        {
          "date": "2022-05",
          "n": 22
        },
        {
          "date": "2022-06",
          "n": 17
        },
        {
          "date": "2022-07",
          "n": 19
        },
        {
          "date": "2022-08",
          "n": 19
        },
        {
          "date": "2022-09",
          "n": 18
        },
        {
          "date": "2022-10",
          "n": 22
        },
        {
          "date": "2022-11",
          "n": 22
        },
        {
          "date": "2022-12",
          "n": 14
        },
        {
          "date": "2023-01",
          "n": 18
        },
        {
          "date": "2023-02",
          "n": 11
        },
        {
          "date": "2023-03",
          "n": 17
        },
        {
          "date": "2023-04",
          "n": 27
        },
        {
          "date": "2023-05",
          "n": 28
        },
        {
          "date": "2023-06",
          "n": 22
        },
        {
          "date": "2023-07",
          "n": 36
        },
        {
          "date": "2023-08",
          "n": 34
        },
        {
          "date": "2023-09",
          "n": 16
        },
        {
          "date": "2023-10",
          "n": 11
        },
        {
          "date": "2023-11",
          "n": 14
        },
        {
          "date": "2023-12",
          "n": 24
        }
      ]
    },
    {
      "id": "FPP",
      "name": "Fundación Para el Progreso",
      "total": 2585,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/fpp.png",
      "data": [
        {
          "date": "2019-01",
          "n": 20
        },
        {
          "date": "2019-02",
          "n": 18
        },
        {
          "date": "2019-03",
          "n": 69
        },
        {
          "date": "2019-04",
          "n": 62
        },
        {
          "date": "2019-05",
          "n": 71
        },
        {
          "date": "2019-06",
          "n": 83
        },
        {
          "date": "2019-07",
          "n": 37
        },
        {
          "date": "2019-08",
          "n": 36
        },
        {
          "date": "2019-09",
          "n": 19
        },
        {
          "date": "2019-10",
          "n": 18
        },
        {
          "date": "2019-11",
          "n": 4
        },
        {
          "date": "2019-12",
          "n": 34
        },
        {
          "date": "2020-01",
          "n": 46
        },
        {
          "date": "2020-02",
          "n": 37
        },
        {
          "date": "2020-03",
          "n": 47
        },
        {
          "date": "2020-04",
          "n": 77
        },
        {
          "date": "2020-05",
          "n": 84
        },
        {
          "date": "2020-06",
          "n": 33
        },
        {
          "date": "2020-07",
          "n": 47
        },
        {
          "date": "2020-08",
          "n": 47
        },
        {
          "date": "2020-09",
          "n": 41
        },
        {
          "date": "2020-10",
          "n": 71
        },
        {
          "date": "2020-11",
          "n": 40
        },
        {
          "date": "2020-12",
          "n": 54
        },
        {
          "date": "2021-01",
          "n": 50
        },
        {
          "date": "2021-02",
          "n": 26
        },
        {
          "date": "2021-03",
          "n": 43
        },
        {
          "date": "2021-04",
          "n": 30
        },
        {
          "date": "2021-05",
          "n": 32
        },
        {
          "date": "2021-06",
          "n": 41
        },
        {
          "date": "2021-07",
          "n": 41
        },
        {
          "date": "2021-08",
          "n": 38
        },
        {
          "date": "2021-09",
          "n": 32
        },
        {
          "date": "2021-10",
          "n": 32
        },
        {
          "date": "2021-11",
          "n": 37
        },
        {
          "date": "2021-12",
          "n": 15
        },
        {
          "date": "2022-01",
          "n": 23
        },
        {
          "date": "2022-02",
          "n": 10
        },
        {
          "date": "2022-03",
          "n": 16
        },
        {
          "date": "2022-04",
          "n": 25
        },
        {
          "date": "2022-05",
          "n": 34
        },
        {
          "date": "2022-06",
          "n": 25
        },
        {
          "date": "2022-07",
          "n": 46
        },
        {
          "date": "2022-08",
          "n": 44
        },
        {
          "date": "2022-09",
          "n": 67
        },
        {
          "date": "2022-10",
          "n": 53
        },
        {
          "date": "2022-11",
          "n": 48
        },
        {
          "date": "2022-12",
          "n": 34
        },
        {
          "date": "2023-01",
          "n": 28
        },
        {
          "date": "2023-02",
          "n": 25
        },
        {
          "date": "2023-03",
          "n": 56
        },
        {
          "date": "2023-04",
          "n": 68
        },
        {
          "date": "2023-05",
          "n": 88
        },
        {
          "date": "2023-06",
          "n": 75
        },
        {
          "date": "2023-07",
          "n": 19
        },
        {
          "date": "2023-08",
          "n": 68
        },
        {
          "date": "2023-09",
          "n": 53
        },
        {
          "date": "2023-10",
          "n": 60
        },
        {
          "date": "2023-11",
          "n": 46
        },
        {
          "date": "2023-12",
          "n": 62
        }
      ]
    },
    {
      "id": "FJG",
      "name": "Fundación Jaime Guzmán",
      "total": 678,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/fundacionjaimeguzman.png",
      "data": [
        {
          "date": "2019-01",
          "n": 19
        },
        {
          "date": "2019-02",
          "n": 10
        },
        {
          "date": "2019-03",
          "n": 13
        },
        {
          "date": "2019-04",
          "n": 18
        },
        {
          "date": "2019-05",
          "n": 19
        },
        {
          "date": "2019-06",
          "n": 14
        },
        {
          "date": "2019-07",
          "n": 8
        },
        {
          "date": "2019-08",
          "n": 8
        },
        {
          "date": "2019-09",
          "n": 5
        },
        {
          "date": "2019-10",
          "n": 12
        },
        {
          "date": "2019-11",
          "n": 7
        },
        {
          "date": "2019-12",
          "n": 12
        },
        {
          "date": "2020-01",
          "n": 13
        },
        {
          "date": "2020-02",
          "n": 12
        },
        {
          "date": "2020-03",
          "n": 11
        },
        {
          "date": "2020-04",
          "n": 17
        },
        {
          "date": "2020-05",
          "n": 12
        },
        {
          "date": "2020-06",
          "n": 12
        },
        {
          "date": "2020-07",
          "n": 18
        },
        {
          "date": "2020-08",
          "n": 10
        },
        {
          "date": "2020-09",
          "n": 8
        },
        {
          "date": "2020-10",
          "n": 16
        },
        {
          "date": "2020-11",
          "n": 10
        },
        {
          "date": "2020-12",
          "n": 9
        },
        {
          "date": "2021-01",
          "n": 6
        },
        {
          "date": "2021-02",
          "n": 4
        },
        {
          "date": "2021-03",
          "n": 7
        },
        {
          "date": "2021-04",
          "n": 12
        },
        {
          "date": "2021-05",
          "n": 8
        },
        {
          "date": "2021-06",
          "n": 8
        },
        {
          "date": "2021-07",
          "n": 13
        },
        {
          "date": "2021-08",
          "n": 9
        },
        {
          "date": "2021-09",
          "n": 8
        },
        {
          "date": "2021-10",
          "n": 8
        },
        {
          "date": "2021-11",
          "n": 5
        },
        {
          "date": "2021-12",
          "n": 6
        },
        {
          "date": "2022-01",
          "n": 12
        },
        {
          "date": "2022-02",
          "n": 7
        },
        {
          "date": "2022-03",
          "n": 16
        },
        {
          "date": "2022-04",
          "n": 19
        },
        {
          "date": "2022-05",
          "n": 14
        },
        {
          "date": "2022-06",
          "n": 14
        },
        {
          "date": "2022-07",
          "n": 17
        },
        {
          "date": "2022-08",
          "n": 17
        },
        {
          "date": "2022-09",
          "n": 9
        },
        {
          "date": "2022-10",
          "n": 13
        },
        {
          "date": "2022-11",
          "n": 7
        },
        {
          "date": "2022-12",
          "n": 6
        },
        {
          "date": "2023-01",
          "n": 13
        },
        {
          "date": "2023-02",
          "n": 3
        },
        {
          "date": "2023-03",
          "n": 14
        },
        {
          "date": "2023-04",
          "n": 9
        },
        {
          "date": "2023-05",
          "n": 12
        },
        {
          "date": "2023-06",
          "n": 12
        },
        {
          "date": "2023-07",
          "n": 12
        },
        {
          "date": "2023-08",
          "n": 11
        },
        {
          "date": "2023-09",
          "n": 9
        },
        {
          "date": "2023-10",
          "n": 16
        },
        {
          "date": "2023-11",
          "n": 13
        },
        {
          "date": "2023-12",
          "n": 16
        }
      ]
    },
    {
      "id": "FSol",
      "name": "Fundación Sol",
      "total": 550,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/fundacionsol.png",
      "data": [
        {
          "date": "2019-01",
          "n": 3
        },
        {
          "date": "2019-02",
          "n": 1
        },
        {
          "date": "2019-03",
          "n": 25
        },
        {
          "date": "2019-04",
          "n": 9
        },
        {
          "date": "2019-05",
          "n": 13
        },
        {
          "date": "2019-06",
          "n": 3
        },
        {
          "date": "2019-07",
          "n": 3
        },
        {
          "date": "2019-08",
          "n": 14
        },
        {
          "date": "2019-09",
          "n": 2
        },
        {
          "date": "2019-10",
          "n": 11
        },
        {
          "date": "2019-11",
          "n": 7
        },
        {
          "date": "2019-12",
          "n": 12
        },
        {
          "date": "2020-01",
          "n": 12
        },
        {
          "date": "2020-02",
          "n": 9
        },
        {
          "date": "2020-03",
          "n": 21
        },
        {
          "date": "2020-04",
          "n": 8
        },
        {
          "date": "2020-05",
          "n": 10
        },
        {
          "date": "2020-06",
          "n": 8
        },
        {
          "date": "2020-07",
          "n": 32
        },
        {
          "date": "2020-08",
          "n": 10
        },
        {
          "date": "2020-09",
          "n": 14
        },
        {
          "date": "2020-10",
          "n": 4
        },
        {
          "date": "2020-11",
          "n": 23
        },
        {
          "date": "2020-12",
          "n": 7
        },
        {
          "date": "2021-01",
          "n": 12
        },
        {
          "date": "2021-02",
          "n": 1
        },
        {
          "date": "2021-03",
          "n": 4
        },
        {
          "date": "2021-04",
          "n": 3
        },
        {
          "date": "2021-05",
          "n": 7
        },
        {
          "date": "2021-06",
          "n": 12
        },
        {
          "date": "2021-07",
          "n": 6
        },
        {
          "date": "2021-08",
          "n": 10
        },
        {
          "date": "2021-09",
          "n": 7
        },
        {
          "date": "2021-10",
          "n": 3
        },
        {
          "date": "2021-11",
          "n": 4
        },
        {
          "date": "2021-12",
          "n": 2
        },
        {
          "date": "2022-01",
          "n": 3
        },
        {
          "date": "2022-02",
          "n": 0
        },
        {
          "date": "2022-03",
          "n": 6
        },
        {
          "date": "2022-04",
          "n": 9
        },
        {
          "date": "2022-05",
          "n": 8
        },
        {
          "date": "2022-06",
          "n": 0
        },
        {
          "date": "2022-07",
          "n": 3
        },
        {
          "date": "2022-08",
          "n": 6
        },
        {
          "date": "2022-09",
          "n": 3
        },
        {
          "date": "2022-10",
          "n": 10
        },
        {
          "date": "2022-11",
          "n": 13
        },
        {
          "date": "2022-12",
          "n": 6
        },
        {
          "date": "2023-01",
          "n": 13
        },
        {
          "date": "2023-02",
          "n": 7
        },
        {
          "date": "2023-03",
          "n": 11
        },
        {
          "date": "2023-04",
          "n": 10
        },
        {
          "date": "2023-05",
          "n": 37
        },
        {
          "date": "2023-06",
          "n": 10
        },
        {
          "date": "2023-07",
          "n": 5
        },
        {
          "date": "2023-08",
          "n": 12
        },
        {
          "date": "2023-09",
          "n": 20
        },
        {
          "date": "2023-10",
          "n": 7
        },
        {
          "date": "2023-11",
          "n": 11
        },
        {
          "date": "2023-12",
          "n": 8
        }
      ]
    },
    {
      "id": "Horizontal",
      "name": "Horizontal",
      "total": 116,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/horizontal.svg",
      "data": [
        {
          "date": "2019-05",
          "n": 1
        },
        {
          "date": "2019-06",
          "n": 0
        },
        {
          "date": "2019-07",
          "n": 0
        },
        {
          "date": "2019-08",
          "n": 2
        },
        {
          "date": "2019-09",
          "n": 2
        },
        {
          "date": "2019-10",
          "n": 1
        },
        {
          "date": "2019-11",
          "n": 4
        },
        {
          "date": "2019-12",
          "n": 6
        },
        {
          "date": "2020-01",
          "n": 0
        },
        {
          "date": "2020-02",
          "n": 2
        },
        {
          "date": "2020-03",
          "n": 2
        },
        {
          "date": "2020-04",
          "n": 3
        },
        {
          "date": "2020-05",
          "n": 2
        },
        {
          "date": "2020-06",
          "n": 5
        },
        {
          "date": "2020-07",
          "n": 0
        },
        {
          "date": "2020-08",
          "n": 3
        },
        {
          "date": "2020-09",
          "n": 3
        },
        {
          "date": "2020-10",
          "n": 4
        },
        {
          "date": "2020-11",
          "n": 1
        },
        {
          "date": "2020-12",
          "n": 2
        },
        {
          "date": "2021-01",
          "n": 0
        },
        {
          "date": "2021-02",
          "n": 0
        },
        {
          "date": "2021-03",
          "n": 6
        },
        {
          "date": "2021-04",
          "n": 4
        },
        {
          "date": "2021-05",
          "n": 0
        },
        {
          "date": "2021-06",
          "n": 3
        },
        {
          "date": "2021-07",
          "n": 4
        },
        {
          "date": "2021-08",
          "n": 1
        },
        {
          "date": "2021-09",
          "n": 1
        },
        {
          "date": "2021-10",
          "n": 5
        },
        {
          "date": "2021-11",
          "n": 1
        },
        {
          "date": "2021-12",
          "n": 0
        },
        {
          "date": "2022-01",
          "n": 1
        },
        {
          "date": "2022-02",
          "n": 0
        },
        {
          "date": "2022-03",
          "n": 1
        },
        {
          "date": "2022-04",
          "n": 1
        },
        {
          "date": "2022-05",
          "n": 1
        },
        {
          "date": "2022-06",
          "n": 4
        },
        {
          "date": "2022-07",
          "n": 1
        },
        {
          "date": "2022-08",
          "n": 3
        },
        {
          "date": "2022-09",
          "n": 0
        },
        {
          "date": "2022-10",
          "n": 2
        },
        {
          "date": "2022-11",
          "n": 1
        },
        {
          "date": "2022-12",
          "n": 3
        },
        {
          "date": "2023-01",
          "n": 2
        },
        {
          "date": "2023-02",
          "n": 1
        },
        {
          "date": "2023-03",
          "n": 2
        },
        {
          "date": "2023-04",
          "n": 4
        },
        {
          "date": "2023-05",
          "n": 3
        },
        {
          "date": "2023-06",
          "n": 1
        },
        {
          "date": "2023-07",
          "n": 4
        },
        {
          "date": "2023-08",
          "n": 3
        },
        {
          "date": "2023-09",
          "n": 3
        },
        {
          "date": "2023-10",
          "n": 0
        },
        {
          "date": "2023-11",
          "n": 4
        },
        {
          "date": "2023-12",
          "n": 3
        }
      ]
    },
    {
      "id": "Horizonte",
      "name": "Horizonte Ciudadano",
      "total": 130,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/horizonteciudadano.svg",
      "data": [
        {
          "date": "2019-01",
          "n": 1
        },
        {
          "date": "2019-02",
          "n": 0
        },
        {
          "date": "2019-03",
          "n": 2
        },
        {
          "date": "2019-04",
          "n": 0
        },
        {
          "date": "2019-05",
          "n": 1
        },
        {
          "date": "2019-06",
          "n": 0
        },
        {
          "date": "2019-07",
          "n": 0
        },
        {
          "date": "2019-08",
          "n": 2
        },
        {
          "date": "2019-09",
          "n": 0
        },
        {
          "date": "2019-10",
          "n": 3
        },
        {
          "date": "2019-11",
          "n": 2
        },
        {
          "date": "2019-12",
          "n": 4
        },
        {
          "date": "2020-01",
          "n": 1
        },
        {
          "date": "2020-02",
          "n": 1
        },
        {
          "date": "2020-03",
          "n": 6
        },
        {
          "date": "2020-04",
          "n": 5
        },
        {
          "date": "2020-05",
          "n": 11
        },
        {
          "date": "2020-06",
          "n": 8
        },
        {
          "date": "2020-07",
          "n": 6
        },
        {
          "date": "2020-08",
          "n": 6
        },
        {
          "date": "2020-09",
          "n": 4
        },
        {
          "date": "2020-10",
          "n": 6
        },
        {
          "date": "2020-11",
          "n": 2
        },
        {
          "date": "2020-12",
          "n": 2
        },
        {
          "date": "2021-01",
          "n": 2
        },
        {
          "date": "2021-02",
          "n": 3
        },
        {
          "date": "2021-03",
          "n": 6
        },
        {
          "date": "2021-04",
          "n": 5
        },
        {
          "date": "2021-05",
          "n": 1
        },
        {
          "date": "2021-06",
          "n": 1
        },
        {
          "date": "2021-07",
          "n": 3
        },
        {
          "date": "2021-08",
          "n": 4
        },
        {
          "date": "2021-09",
          "n": 2
        },
        {
          "date": "2021-10",
          "n": 2
        },
        {
          "date": "2021-11",
          "n": 4
        },
        {
          "date": "2021-12",
          "n": 6
        },
        {
          "date": "2022-01",
          "n": 7
        },
        {
          "date": "2022-02",
          "n": 0
        },
        {
          "date": "2022-03",
          "n": 1
        },
        {
          "date": "2022-04",
          "n": 0
        },
        {
          "date": "2022-05",
          "n": 2
        },
        {
          "date": "2022-06",
          "n": 0
        },
        {
          "date": "2022-07",
          "n": 0
        },
        {
          "date": "2022-08",
          "n": 2
        },
        {
          "date": "2022-09",
          "n": 0
        },
        {
          "date": "2022-10",
          "n": 1
        },
        {
          "date": "2022-11",
          "n": 0
        },
        {
          "date": "2022-12",
          "n": 1
        },
        {
          "date": "2023-01",
          "n": 0
        },
        {
          "date": "2023-02",
          "n": 0
        },
        {
          "date": "2023-03",
          "n": 0
        },
        {
          "date": "2023-04",
          "n": 0
        },
        {
          "date": "2023-05",
          "n": 0
        },
        {
          "date": "2023-06",
          "n": 0
        },
        {
          "date": "2023-07",
          "n": 0
        },
        {
          "date": "2023-08",
          "n": 2
        },
        {
          "date": "2023-09",
          "n": 0
        },
        {
          "date": "2023-10",
          "n": 0
        },
        {
          "date": "2023-11",
          "n": 1
        },
        {
          "date": "2023-12",
          "n": 1
        }
      ]
    },
    {
      "id": "ICAL",
      "name": "Instituto de Ciencias Alejandro Lipschutz",
      "total": 38,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/ical.png",
      "data": [
        {
          "date": "2023-02",
          "n": 1
        },
        {
          "date": "2023-03",
          "n": 1
        },
        {
          "date": "2023-04",
          "n": 8
        },
        {
          "date": "2023-05",
          "n": 0
        },
        {
          "date": "2023-06",
          "n": 3
        },
        {
          "date": "2023-07",
          "n": 3
        },
        {
          "date": "2023-08",
          "n": 7
        },
        {
          "date": "2023-09",
          "n": 9
        },
        {
          "date": "2023-10",
          "n": 5
        },
        {
          "date": "2023-11",
          "n": 0
        },
        {
          "date": "2023-12",
          "n": 1
        }
      ]
    },
    {
      "id": "IES",
      "name": "Instituto de estudios de la Sociedad",
      "total": 20,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/ies.webp",
      "data": [
        {
          "date": "2019-03",
          "n": 1
        },
        {
          "date": "2019-10",
          "n": 1
        },
        {
          "date": "2019-12",
          "n": 1
        },
        {
          "date": "2020-09",
          "n": 2
        },
        {
          "date": "2020-11",
          "n": 1
        },
        {
          "date": "2021-10",
          "n": 1
        },
        {
          "date": "2022-02",
          "n": 1
        },
        {
          "date": "2022-04",
          "n": 2
        },
        {
          "date": "2022-10",
          "n": 1
        },
        {
          "date": "2023-04",
          "n": 2
        },
        {
          "date": "2023-06",
          "n": 1
        },
        {
          "date": "2023-08",
          "n": 1
        },
        {
          "date": "2023-09",
          "n": 3
        },
        {
          "date": "2023-10",
          "n": 2
        }
      ]
    },
    {
      "id": "IdeaPais",
      "name": "Idea País",
      "total": 3,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/ideapais.png",
      "data": [
        {
          "date": "2020-08",
          "n": 1
        },
        {
          "date": "2021-08",
          "n": 1
        },
        {
          "date": "2023-02",
          "n": 1
        }
      ]
    },
    {
      "id": "IdeasRep",
      "name": "Ideas Republicanas",
      "total": 9,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/ideasrepublicanas.png",
      "data": [
        {
          "date": "2023-01",
          "n": 1
        },
        {
          "date": "2023-02",
          "n": 1
        },
        {
          "date": "2023-03",
          "n": 1
        },
        {
          "date": "2023-05",
          "n": 1
        },
        {
          "date": "2023-06",
          "n": 1
        },
        {
          "date": "2023-08",
          "n": 1
        },
        {
          "date": "2023-09",
          "n": 1
        },
        {
          "date": "2023-10",
          "n": 1
        },
        {
          "date": "2023-11",
          "n": 1
        }
      ]
    },
    {
      "id": "Igualdad",
      "name": "Instituto Igualdad",
      "total": 892,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/institutoigualdad.png",
      "data": [
        {
          "date": "2019-01",
          "n": 8
        },
        {
          "date": "2019-03",
          "n": 7
        },
        {
          "date": "2019-04",
          "n": 4
        },
        {
          "date": "2019-05",
          "n": 5
        },
        {
          "date": "2019-06",
          "n": 13
        },
        {
          "date": "2019-07",
          "n": 9
        },
        {
          "date": "2019-08",
          "n": 18
        },
        {
          "date": "2019-09",
          "n": 29
        },
        {
          "date": "2019-10",
          "n": 37
        },
        {
          "date": "2019-11",
          "n": 24
        },
        {
          "date": "2019-12",
          "n": 36
        },
        {
          "date": "2020-01",
          "n": 29
        },
        {
          "date": "2020-03",
          "n": 19
        },
        {
          "date": "2020-04",
          "n": 27
        },
        {
          "date": "2020-05",
          "n": 21
        },
        {
          "date": "2020-06",
          "n": 35
        },
        {
          "date": "2020-07",
          "n": 40
        },
        {
          "date": "2020-08",
          "n": 57
        },
        {
          "date": "2020-09",
          "n": 42
        },
        {
          "date": "2020-10",
          "n": 36
        },
        {
          "date": "2020-11",
          "n": 42
        },
        {
          "date": "2020-12",
          "n": 26
        },
        {
          "date": "2021-01",
          "n": 21
        },
        {
          "date": "2021-02",
          "n": 21
        },
        {
          "date": "2021-03",
          "n": 23
        },
        {
          "date": "2021-04",
          "n": 29
        },
        {
          "date": "2021-05",
          "n": 14
        },
        {
          "date": "2021-06",
          "n": 8
        },
        {
          "date": "2021-07",
          "n": 10
        },
        {
          "date": "2021-08",
          "n": 6
        },
        {
          "date": "2021-09",
          "n": 3
        },
        {
          "date": "2021-10",
          "n": 9
        },
        {
          "date": "2021-11",
          "n": 8
        },
        {
          "date": "2021-12",
          "n": 4
        },
        {
          "date": "2022-01",
          "n": 9
        },
        {
          "date": "2022-02",
          "n": 4
        },
        {
          "date": "2022-03",
          "n": 6
        },
        {
          "date": "2022-04",
          "n": 6
        },
        {
          "date": "2022-05",
          "n": 10
        },
        {
          "date": "2022-06",
          "n": 12
        },
        {
          "date": "2022-07",
          "n": 9
        },
        {
          "date": "2022-08",
          "n": 12
        },
        {
          "date": "2022-09",
          "n": 7
        },
        {
          "date": "2022-10",
          "n": 10
        },
        {
          "date": "2022-11",
          "n": 13
        },
        {
          "date": "2022-12",
          "n": 2
        },
        {
          "date": "2023-01",
          "n": 4
        },
        {
          "date": "2023-02",
          "n": 1
        },
        {
          "date": "2023-03",
          "n": 5
        },
        {
          "date": "2023-04",
          "n": 7
        },
        {
          "date": "2023-05",
          "n": 7
        },
        {
          "date": "2023-06",
          "n": 8
        },
        {
          "date": "2023-07",
          "n": 9
        },
        {
          "date": "2023-08",
          "n": 12
        },
        {
          "date": "2023-09",
          "n": 6
        },
        {
          "date": "2023-10",
          "n": 3
        },
        {
          "date": "2023-11",
          "n": 4
        },
        {
          "date": "2023-12",
          "n": 6
        }
      ]
    },
    {
      "id": "Libertad",
      "name": "Instituto Libertad",
      "total": 124,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/institutolibertad.png",
      "data": [
        {
          "date": "2022-02",
          "n": 3
        },
        {
          "date": "2022-03",
          "n": 1
        },
        {
          "date": "2022-04",
          "n": 5
        },
        {
          "date": "2022-05",
          "n": 8
        },
        {
          "date": "2022-06",
          "n": 7
        },
        {
          "date": "2022-07",
          "n": 6
        },
        {
          "date": "2022-08",
          "n": 5
        },
        {
          "date": "2022-09",
          "n": 2
        },
        {
          "date": "2022-10",
          "n": 2
        },
        {
          "date": "2022-11",
          "n": 2
        },
        {
          "date": "2022-12",
          "n": 16
        },
        {
          "date": "2023-01",
          "n": 9
        },
        {
          "date": "2023-02",
          "n": 5
        },
        {
          "date": "2023-03",
          "n": 7
        },
        {
          "date": "2023-04",
          "n": 2
        },
        {
          "date": "2023-05",
          "n": 5
        },
        {
          "date": "2023-06",
          "n": 7
        },
        {
          "date": "2023-07",
          "n": 5
        },
        {
          "date": "2023-08",
          "n": 5
        },
        {
          "date": "2023-09",
          "n": 6
        },
        {
          "date": "2023-10",
          "n": 5
        },
        {
          "date": "2023-11",
          "n": 6
        },
        {
          "date": "2023-12",
          "n": 5
        }
      ]
    },
    {
      "id": "ResPublica",
      "name": "Instituto Res Pública",
      "total": 575,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/institutorespublica.png",
      "data": [
        {
          "date": "2019-04",
          "n": 5
        },
        {
          "date": "2019-08",
          "n": 3
        },
        {
          "date": "2019-10",
          "n": 4
        },
        {
          "date": "2019-11",
          "n": 1
        },
        {
          "date": "2019-12",
          "n": 2
        },
        {
          "date": "2020-01",
          "n": 7
        },
        {
          "date": "2020-02",
          "n": 1
        },
        {
          "date": "2020-03",
          "n": 5
        },
        {
          "date": "2020-05",
          "n": 2
        },
        {
          "date": "2020-06",
          "n": 6
        },
        {
          "date": "2020-07",
          "n": 2
        },
        {
          "date": "2020-08",
          "n": 8
        },
        {
          "date": "2020-09",
          "n": 9
        },
        {
          "date": "2020-10",
          "n": 5
        },
        {
          "date": "2020-11",
          "n": 7
        },
        {
          "date": "2020-12",
          "n": 5
        },
        {
          "date": "2021-01",
          "n": 13
        },
        {
          "date": "2021-02",
          "n": 14
        },
        {
          "date": "2021-03",
          "n": 11
        },
        {
          "date": "2021-04",
          "n": 10
        },
        {
          "date": "2021-05",
          "n": 8
        },
        {
          "date": "2021-06",
          "n": 12
        },
        {
          "date": "2021-07",
          "n": 18
        },
        {
          "date": "2021-08",
          "n": 20
        },
        {
          "date": "2021-09",
          "n": 16
        },
        {
          "date": "2021-10",
          "n": 24
        },
        {
          "date": "2021-11",
          "n": 14
        },
        {
          "date": "2021-12",
          "n": 18
        },
        {
          "date": "2022-01",
          "n": 9
        },
        {
          "date": "2022-02",
          "n": 13
        },
        {
          "date": "2022-03",
          "n": 9
        },
        {
          "date": "2022-04",
          "n": 9
        },
        {
          "date": "2022-05",
          "n": 12
        },
        {
          "date": "2022-06",
          "n": 5
        },
        {
          "date": "2022-07",
          "n": 12
        },
        {
          "date": "2022-08",
          "n": 6
        },
        {
          "date": "2022-09",
          "n": 7
        },
        {
          "date": "2022-10",
          "n": 10
        },
        {
          "date": "2022-11",
          "n": 11
        },
        {
          "date": "2022-12",
          "n": 10
        },
        {
          "date": "2023-01",
          "n": 17
        },
        {
          "date": "2023-02",
          "n": 11
        },
        {
          "date": "2023-03",
          "n": 14
        },
        {
          "date": "2023-04",
          "n": 20
        },
        {
          "date": "2023-05",
          "n": 24
        },
        {
          "date": "2023-06",
          "n": 17
        },
        {
          "date": "2023-07",
          "n": 28
        },
        {
          "date": "2023-08",
          "n": 27
        },
        {
          "date": "2023-09",
          "n": 17
        },
        {
          "date": "2023-10",
          "n": 15
        },
        {
          "date": "2023-11",
          "n": 13
        },
        {
          "date": "2023-12",
          "n": 9
        }
      ]
    },
    {
      "id": "LyD",
      "name": "Libertad y Desarrollo",
      "total": 2622,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/lyd1536x1299.png",
      "data": [
        {
          "date": "2019-01",
          "n": 50
        },
        {
          "date": "2019-02",
          "n": 30
        },
        {
          "date": "2019-03",
          "n": 51
        },
        {
          "date": "2019-04",
          "n": 57
        },
        {
          "date": "2019-05",
          "n": 61
        },
        {
          "date": "2019-06",
          "n": 55
        },
        {
          "date": "2019-07",
          "n": 52
        },
        {
          "date": "2019-08",
          "n": 51
        },
        {
          "date": "2019-09",
          "n": 43
        },
        {
          "date": "2019-10",
          "n": 59
        },
        {
          "date": "2019-11",
          "n": 48
        },
        {
          "date": "2019-12",
          "n": 49
        },
        {
          "date": "2020-01",
          "n": 41
        },
        {
          "date": "2020-02",
          "n": 23
        },
        {
          "date": "2020-03",
          "n": 56
        },
        {
          "date": "2020-04",
          "n": 66
        },
        {
          "date": "2020-05",
          "n": 57
        },
        {
          "date": "2020-06",
          "n": 53
        },
        {
          "date": "2020-07",
          "n": 53
        },
        {
          "date": "2020-08",
          "n": 42
        },
        {
          "date": "2020-09",
          "n": 40
        },
        {
          "date": "2020-10",
          "n": 44
        },
        {
          "date": "2020-11",
          "n": 40
        },
        {
          "date": "2020-12",
          "n": 38
        },
        {
          "date": "2021-01",
          "n": 41
        },
        {
          "date": "2021-02",
          "n": 18
        },
        {
          "date": "2021-03",
          "n": 43
        },
        {
          "date": "2021-04",
          "n": 44
        },
        {
          "date": "2021-05",
          "n": 52
        },
        {
          "date": "2021-06",
          "n": 41
        },
        {
          "date": "2021-07",
          "n": 35
        },
        {
          "date": "2021-08",
          "n": 47
        },
        {
          "date": "2021-09",
          "n": 48
        },
        {
          "date": "2021-10",
          "n": 39
        },
        {
          "date": "2021-11",
          "n": 49
        },
        {
          "date": "2021-12",
          "n": 49
        },
        {
          "date": "2022-01",
          "n": 38
        },
        {
          "date": "2022-02",
          "n": 24
        },
        {
          "date": "2022-03",
          "n": 40
        },
        {
          "date": "2022-04",
          "n": 47
        },
        {
          "date": "2022-05",
          "n": 49
        },
        {
          "date": "2022-06",
          "n": 57
        },
        {
          "date": "2022-07",
          "n": 49
        },
        {
          "date": "2022-08",
          "n": 57
        },
        {
          "date": "2022-09",
          "n": 36
        },
        {
          "date": "2022-10",
          "n": 40
        },
        {
          "date": "2022-11",
          "n": 27
        },
        {
          "date": "2022-12",
          "n": 33
        },
        {
          "date": "2023-01",
          "n": 32
        },
        {
          "date": "2023-02",
          "n": 19
        },
        {
          "date": "2023-03",
          "n": 35
        },
        {
          "date": "2023-04",
          "n": 35
        },
        {
          "date": "2023-05",
          "n": 47
        },
        {
          "date": "2023-06",
          "n": 41
        },
        {
          "date": "2023-07",
          "n": 33
        },
        {
          "date": "2023-08",
          "n": 39
        },
        {
          "date": "2023-09",
          "n": 36
        },
        {
          "date": "2023-10",
          "n": 42
        },
        {
          "date": "2023-11",
          "n": 60
        },
        {
          "date": "2023-12",
          "n": 41
        }
      ]
    },
    {
      "id": "NodoXXI",
      "name": "Nodo XXI",
      "total": 328,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/nodoxxi.webp",
      "data": [
        {
          "date": "2019-07",
          "n": 2
        },
        {
          "date": "2019-08",
          "n": 1
        },
        {
          "date": "2019-09",
          "n": 3
        },
        {
          "date": "2019-10",
          "n": 3
        },
        {
          "date": "2019-11",
          "n": 6
        },
        {
          "date": "2019-12",
          "n": 3
        },
        {
          "date": "2020-01",
          "n": 1
        },
        {
          "date": "2020-03",
          "n": 14
        },
        {
          "date": "2020-04",
          "n": 25
        },
        {
          "date": "2020-05",
          "n": 12
        },
        {
          "date": "2020-06",
          "n": 11
        },
        {
          "date": "2020-07",
          "n": 8
        },
        {
          "date": "2020-08",
          "n": 12
        },
        {
          "date": "2020-09",
          "n": 3
        },
        {
          "date": "2020-10",
          "n": 5
        },
        {
          "date": "2020-11",
          "n": 1
        },
        {
          "date": "2020-12",
          "n": 2
        },
        {
          "date": "2021-01",
          "n": 13
        },
        {
          "date": "2021-02",
          "n": 1
        },
        {
          "date": "2021-03",
          "n": 9
        },
        {
          "date": "2021-04",
          "n": 3
        },
        {
          "date": "2021-06",
          "n": 1
        },
        {
          "date": "2021-07",
          "n": 1
        },
        {
          "date": "2021-08",
          "n": 1
        },
        {
          "date": "2021-09",
          "n": 5
        },
        {
          "date": "2021-10",
          "n": 11
        },
        {
          "date": "2021-11",
          "n": 13
        },
        {
          "date": "2021-12",
          "n": 2
        },
        {
          "date": "2022-01",
          "n": 10
        },
        {
          "date": "2022-05",
          "n": 1
        },
        {
          "date": "2022-06",
          "n": 1
        },
        {
          "date": "2022-07",
          "n": 12
        },
        {
          "date": "2022-08",
          "n": 4
        },
        {
          "date": "2022-10",
          "n": 8
        },
        {
          "date": "2022-11",
          "n": 2
        },
        {
          "date": "2022-12",
          "n": 4
        },
        {
          "date": "2023-01",
          "n": 3
        },
        {
          "date": "2023-02",
          "n": 1
        },
        {
          "date": "2023-03",
          "n": 8
        },
        {
          "date": "2023-05",
          "n": 3
        },
        {
          "date": "2023-06",
          "n": 4
        },
        {
          "date": "2023-07",
          "n": 27
        },
        {
          "date": "2023-10",
          "n": 27
        },
        {
          "date": "2023-11",
          "n": 20
        },
        {
          "date": "2023-12",
          "n": 21
        }
      ]
    },
    {
      "id": "OPES",
      "name": "Observatorio de Políticas Económicas",
      "total": 45,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/opes.webp",
      "data": [
        {
          "date": "2019-01",
          "n": 1
        },
        {
          "date": "2019-04",
          "n": 1
        },
        {
          "date": "2019-09",
          "n": 1
        },
        {
          "date": "2019-10",
          "n": 1
        },
        {
          "date": "2020-01",
          "n": 1
        },
        {
          "date": "2020-03",
          "n": 1
        },
        {
          "date": "2020-07",
          "n": 1
        },
        {
          "date": "2020-08",
          "n": 2
        },
        {
          "date": "2020-09",
          "n": 4
        },
        {
          "date": "2020-10",
          "n": 3
        },
        {
          "date": "2020-11",
          "n": 1
        },
        {
          "date": "2020-12",
          "n": 4
        },
        {
          "date": "2021-01",
          "n": 1
        },
        {
          "date": "2021-04",
          "n": 2
        },
        {
          "date": "2021-05",
          "n": 2
        },
        {
          "date": "2021-06",
          "n": 3
        },
        {
          "date": "2021-07",
          "n": 2
        },
        {
          "date": "2021-08",
          "n": 1
        },
        {
          "date": "2022-08",
          "n": 1
        },
        {
          "date": "2023-10",
          "n": 8
        },
        {
          "date": "2023-12",
          "n": 4
        }
      ]
    },
    {
      "id": "Pivotes",
      "name": "Pivotes",
      "total": 412,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/pivotes.png",
      "data": [
        {
          "date": "2022-11",
          "n": 1
        },
        {
          "date": "2022-12",
          "n": 16
        },
        {
          "date": "2023-01",
          "n": 5
        },
        {
          "date": "2023-02",
          "n": 5
        },
        {
          "date": "2023-03",
          "n": 122
        },
        {
          "date": "2023-04",
          "n": 23
        },
        {
          "date": "2023-05",
          "n": 11
        },
        {
          "date": "2023-06",
          "n": 6
        },
        {
          "date": "2023-07",
          "n": 57
        },
        {
          "date": "2023-08",
          "n": 35
        },
        {
          "date": "2023-09",
          "n": 32
        },
        {
          "date": "2023-10",
          "n": 29
        },
        {
          "date": "2023-11",
          "n": 31
        },
        {
          "date": "2023-12",
          "n": 39
        }
      ]
    },
    {
      "id": "SignosUandes",
      "name": "Signos Uandes",
      "total": 3612,
      "logoUrl": "https://raw.githubusercontent.com/RodrigoMolinaAvila/web_resources/refs/heads/main/webresources/presentacion-coes/signosuandes.svg",
      "data": [
        {
          "date": "2019-01",
          "n": 53
        },
        {
          "date": "2019-02",
          "n": 20
        },
        {
          "date": "2019-03",
          "n": 67
        },
        {
          "date": "2019-04",
          "n": 83
        },
        {
          "date": "2019-05",
          "n": 88
        },
        {
          "date": "2019-06",
          "n": 84
        },
        {
          "date": "2019-07",
          "n": 83
        },
        {
          "date": "2019-08",
          "n": 87
        },
        {
          "date": "2019-09",
          "n": 89
        },
        {
          "date": "2019-10",
          "n": 88
        },
        {
          "date": "2019-11",
          "n": 77
        },
        {
          "date": "2019-12",
          "n": 78
        },
        {
          "date": "2020-01",
          "n": 71
        },
        {
          "date": "2020-02",
          "n": 10
        },
        {
          "date": "2020-03",
          "n": 59
        },
        {
          "date": "2020-04",
          "n": 70
        },
        {
          "date": "2020-05",
          "n": 66
        },
        {
          "date": "2020-06",
          "n": 69
        },
        {
          "date": "2020-07",
          "n": 74
        },
        {
          "date": "2020-08",
          "n": 56
        },
        {
          "date": "2020-09",
          "n": 67
        },
        {
          "date": "2020-10",
          "n": 79
        },
        {
          "date": "2020-11",
          "n": 63
        },
        {
          "date": "2020-12",
          "n": 62
        },
        {
          "date": "2021-01",
          "n": 45
        },
        {
          "date": "2021-02",
          "n": 5
        },
        {
          "date": "2021-03",
          "n": 63
        },
        {
          "date": "2021-04",
          "n": 65
        },
        {
          "date": "2021-05",
          "n": 46
        },
        {
          "date": "2021-06",
          "n": 68
        },
        {
          "date": "2021-07",
          "n": 55
        },
        {
          "date": "2021-08",
          "n": 66
        },
        {
          "date": "2021-09",
          "n": 54
        },
        {
          "date": "2021-10",
          "n": 66
        },
        {
          "date": "2021-11",
          "n": 71
        },
        {
          "date": "2021-12",
          "n": 64
        },
        {
          "date": "2022-01",
          "n": 55
        },
        {
          "date": "2022-02",
          "n": 3
        },
        {
          "date": "2022-03",
          "n": 52
        },
        {
          "date": "2022-04",
          "n": 59
        },
        {
          "date": "2022-05",
          "n": 59
        },
        {
          "date": "2022-06",
          "n": 54
        },
        {
          "date": "2022-07",
          "n": 61
        },
        {
          "date": "2022-08",
          "n": 59
        },
        {
          "date": "2022-09",
          "n": 54
        },
        {
          "date": "2022-10",
          "n": 64
        },
        {
          "date": "2022-11",
          "n": 62
        },
        {
          "date": "2022-12",
          "n": 56
        },
        {
          "date": "2023-01",
          "n": 41
        },
        {
          "date": "2023-02",
          "n": 5
        },
        {
          "date": "2023-03",
          "n": 57
        },
        {
          "date": "2023-04",
          "n": 49
        },
        {
          "date": "2023-05",
          "n": 53
        },
        {
          "date": "2023-06",
          "n": 75
        },
        {
          "date": "2023-07",
          "n": 55
        },
        {
          "date": "2023-08",
          "n": 70
        },
        {
          "date": "2023-09",
          "n": 53
        },
        {
          "date": "2023-10",
          "n": 65
        },
        {
          "date": "2023-11",
          "n": 85
        },
        {
          "date": "2023-12",
          "n": 55
        }
      ]
    }
  ]
};

// Color palette for 24 think tanks
const colorPalette = [
    '#FFB3BA', '#FFDFBA', '#FFFFBA', '#BAFFC9', '#BAE1FF', '#E0BBE4',
    '#FFC3A0', '#FFABAB', '#FFC3A0', '#FF677D', '#D4A5A5', '#ffd4f9ff',
    '#C9ADA7', '#F2CC8F', '#81B29A', '#E07A5F', '#11b80bef', '#F4A261',
    '#E76F51', '#2A9D8F', '#E9C46A', '#F4A261', '#1dafe9da', '#A8DADC'
];

// Historical events
const historicalEvents = [
    { date: '2019-10', label: 'Estallido Social' },
    { date: '2022-09', label: 'Plebiscito de salida CC' },
    { date: '2023-12', label: 'Plebiscito salida PC' },
    { date: '2021-07', label: 'Inicio CC' }
];

// Global variables
let currentThinkTankIndex = 0;
let isPlaying = true;
let animationTimeout;

// Initialize the application
document.addEventListener('DOMContentLoaded', function() {
    initializeControls();
    populateThinkTankMenu();
    showThinkTank(currentThinkTankIndex);
    startAutoPlay();
});

// Initialize control buttons
function initializeControls() {
    const playPauseBtn = document.getElementById('playPauseBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const progressBtn = document.getElementById('progressBtn');

    playPauseBtn.addEventListener('click', togglePlayPause);
    prevBtn.addEventListener('click', () => navigateThinkTank(-1));
    nextBtn.addEventListener('click', () => navigateThinkTank(1));

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') navigateThinkTank(-1);
        if (e.key === 'ArrowDown' || e.key === 'ArrowRight') navigateThinkTank(1);
        if (e.key === ' ') {
            e.preventDefault();
            togglePlayPause();
        }
    });
}

// Toggle play/pause
function togglePlayPause() {
    isPlaying = !isPlaying;
    const icon = document.querySelector('#playPauseBtn i');
    
    if (isPlaying) {
        icon.setAttribute('data-feather', 'pause');
        startAutoPlay();
    } else {
        icon.setAttribute('data-feather', 'play');
        clearTimeout(animationTimeout);
    }
    feather.replace();
}

// Navigate between think tanks
function navigateThinkTank(direction) {
    currentThinkTankIndex = (currentThinkTankIndex + direction + data.thinkTanks.length) % data.thinkTanks.length;
    showThinkTank(currentThinkTankIndex);
    
    if (isPlaying) {
        startAutoPlay();
    }
}

// Show think tank data
function showThinkTank(index) {
    const thinkTank = data.thinkTanks[index];
    const color = colorPalette[index];
    
    // Update header
    document.getElementById('thinkTankName').textContent = thinkTank.name;
    document.getElementById('thinkTankLogo').src = thinkTank.logoUrl;
    document.getElementById('totalDisplay').innerHTML = `<span class="text-2xl font-light" style="color: ${color}">Total: ${thinkTank.total}</span>`;
    document.getElementById('totalDisplay').style.borderColor = color + '50';
    document.getElementById('totalDisplay').style.boxShadow = `0 0 20px ${color}33`;
    
    // Add pulse animation
    document.getElementById('totalDisplay').classList.add('pulse-animation');
    setTimeout(() => {
        document.getElementById('totalDisplay').classList.remove('pulse-animation');
    }, 300);
    
    // Update progress
    document.getElementById('progressText').textContent = `${index + 1}/${data.thinkTanks.length}`;
    
    // Draw charts
    drawMainChart(thinkTank, color);
    drawStackedChart(thinkTank, color);
}

// Draw main chart
function drawMainChart(thinkTank, color) {
    const container = d3.select('#mainChart');
    container.selectAll('*').remove();
    
    const margin = { top: 40, right: 60, bottom: 60, left: 60 };
    const width = container.node().getBoundingClientRect().width - margin.left - margin.right;
    const height = container.node().getBoundingClientRect().height - margin.top - margin.bottom;
    
    const svg = container.append('svg')
        .attr('width', width + margin.left + margin.right)
        .attr('height', height + margin.top + margin.bottom);
    
    const g = svg.append('g')
        .attr('transform', `translate(${margin.left},${margin.top})`);
    
    // Prepare data for full date range
    const dateRange = d3.timeMonth.range(new Date('2019-01-01'), new Date('2024-01-01'));
    const dataMap = new Map(thinkTank.data.map(d => [d.date, d.n]));
    
    const chartData = dateRange.map(date => {
        const dateStr = d3.timeFormat('%Y-%m')(date);
        return {
            date: dateStr,
            n: dataMap.get(dateStr) || 0
        };
    });
    
    // Scales
    const x = d3.scaleBand()
        .domain(chartData.map(d => d.date))
        .range([0, width])
        .padding(0.1);
    
    const y = d3.scaleLinear()
        .domain([0, d3.max(chartData, d => d.n)])
        .nice()
        .range([height, 0]);
    
    // Y axis
    g.append('g')
        .attr('class', 'y-axis')
        .call(d3.axisLeft(y).ticks(5).tickFormat(d3.format('d')))
        .style('color', 'rgba(255,255,255,0.7)');
    
    // Historical event lines
    historicalEvents.forEach(event => {
        const xPos = x(event.date);
        if (xPos !== undefined) {
            g.append('line')
                .attr('x1', xPos)
                .attr('x2', xPos)
                .attr('y1', 0)
                .attr('y2', height)
                .attr('stroke', '#ef4444')
                .attr('stroke-width', 5)
                .attr('opacity', 0.9)
                .attr('class', 'historical-line');
        }
    });
    
    // Bars with animation
    const bars = g.selectAll('.bar')
        .data(chartData)
        .enter().append('rect')
        .attr('class', 'bar chart-bar')
        .attr('x', d => x(d.date))
        .attr('width', x.bandwidth())
        .attr('y', height)
        .attr('height', 0)
        .attr('fill', color)
        .attr('opacity', 0.8);
    
    // Animate bars
    bars.transition()
        .duration(1500 / chartData.length)
        .delay((d, i) => i * (1500 / chartData.length))
        .attr('y', d => d.n > 0 ? y(d.n) : height)
        .attr('height', d => d.n > 0 ? height - y(d.n) : 0)
        .ease(d3.easeCubicOut);
    
    // Capsules on bars
    const capsules = g.selectAll('.capsule')
        .data(chartData.filter(d => d.n > 0))
        .enter().append('g')
        .attr('class', 'capsule-group');
    
    capsules.append('rect')
        .attr('class', 'capsule-label')
        .attr('x', d => x(d.date) + x.bandwidth() / 2 - 20)
        .attr('y', d => y(d.n) - 25)
        .attr('width', 40)
        .attr('height', 20)
        .attr('rx', 10)
        .attr('fill', color)
        .attr('opacity', 0);
    
    capsules.append('text')
        .attr('x', d => x(d.date) + x.bandwidth() / 2)
        .attr('y', d => y(d.n) - 10)
        .attr('text-anchor', 'middle')
        .attr('fill', '#111')
        .attr('font-size', '12px')
        .attr('font-weight', '500')
        .text(d => d.n)
        .attr('opacity', 10);
    
    // Animate capsules
    capsules.transition()
        .duration(300)
        .delay((d, i) => i * (1500 / chartData.length) + (1500 / chartData.length))
        .attr('opacity', 1);
    
    capsules.selectAll('.capsule-label, text')
        .transition()
        .duration(300)
        .delay((d, i) => i * (1500 / chartData.length) + (1500 / chartData.length))
        .attr('opacity', 1);
}

// Draw stacked chart
function drawStackedChart(thinkTank, color) {
    const container = d3.select('#stackedChart');
    container.selectAll('*').remove();
    
    const margin = { top: 40, right: 60, bottom: 80, left: 60 };
    const width = container.node().getBoundingClientRect().width - margin.left - margin.right;
    const height = container.node().getBoundingClientRect().height - margin.top - margin.bottom;
    
    const svg = container.append('svg')
        .attr('width', width + margin.left + margin.right)
        .attr('height', height + margin.top + margin.bottom);
    
    const g = svg.append('g')
        .attr('transform', `translate(${margin.left},${margin.top})`);
    
    // Prepare data
    const dateRange = d3.timeMonth.range(new Date('2019-01-01'), new Date('2024-01-01'));
    const overallMap = new Map(data.overallData.map(d => [d.date, d.n]));
    const thinkTankMap = new Map(thinkTank.data.map(d => [d.date, d.n]));
    
    const chartData = dateRange.map(date => {
        const dateStr = d3.timeFormat('%Y-%m')(date);
        return {
            date: dateStr,
            overall: overallMap.get(dateStr) || 0,
            thinkTank: thinkTankMap.get(dateStr) || 0
        };
    });
    
    // Scales
    const x = d3.scaleBand()
        .domain(chartData.map(d => d.date))
        .range([0, width])
        .padding(0.1);
    
    const y = d3.scaleLinear()
        .domain([0, d3.max(chartData, d => d.overall)])
        .nice()
        .range([height, 0]);
    
    // Y axis
    g.append('g')
        .attr('class', 'y-axis')
        .call(d3.axisLeft(y).ticks(3).tickFormat(d3.format('d')))
        .style('color', 'rgba(255,255,255,0.7)');
    
    // Overall bars (base)
    g.selectAll('.overall-bar')
        .data(chartData)
        .enter().append('rect')
        .attr('class', 'overall-bar')
        .attr('x', d => x(d.date))
        .attr('width', x.bandwidth())
        .attr('y', d => y(d.overall))
        .attr('height', d => height - y(d.overall))
        .attr('fill', 'rgba(102, 252, 241, 0.25)')
        .attr('opacity', 0.8);
    
    // Think tank contribution bars
    const contributionBars = g.selectAll('.contribution-bar')
        .data(chartData)
        .enter().append('rect')
        .attr('class', 'contribution-bar chart-bar')
        .attr('x', d => x(d.date))
        .attr('width', x.bandwidth())
        .attr('y', d => y(d.overall))
        .attr('height', 0)
        .attr('fill', color)
        .attr('opacity', 0.9);
    
    // Animate contribution bars
    contributionBars.transition()
        .duration(1500 / chartData.length)
        .delay((d, i) => i * (1500 / chartData.length))
        .attr('y', d => y(d.overall - d.thinkTank))
        .attr('height', d => y(0) - y(d.thinkTank))
        .ease(d3.easeCubicOut);
    
    // X axis labels
    const monthLabels = ['Feb', 'Nov', 'Ago', 'May'];
    const yearLabels = ['2019', '2020', '2021', '2022', '2023'];
    
    // Month labels
    g.selectAll('.month-label')
        .data(chartData.filter((d, i) => i % 3 === 1))
        .enter().append('text')
        .attr('class', 'month-label')
        .attr('x', d => x(d.date) + x.bandwidth() / 2)
        .attr('y', height + 20)
        .attr('text-anchor', 'middle')
        .attr('fill', 'rgba(255,255,255,0.5)')
        .attr('font-size', '13px')
        .text(d => {
            const month = new Date(d.date + '-01').getMonth();
            return monthLabels[month % 4];
        });
    
    // Year labels
    g.selectAll('.year-label')
        .data(yearLabels)
        .enter().append('text')
        .attr('class', 'year-label')
        .attr('x', (d, i) => (width / 5) * i + (width / 10))
        .attr('y', height + 45)
        .attr('text-anchor', 'middle')
        .attr('fill', 'rgba(255,255,255,0.7)')
        .attr('font-size', '13px')
        .attr('font-weight', '500')
        .text(d => d);
    
    // Historical event markers at bottom
    historicalEvents.forEach(event => {
        const xPos = x(event.date);
        if (xPos !== undefined) {
            const eventGroup = g.append('g').attr('class', 'historical-event');
            
            // Vertical line
            eventGroup.append('line')
                .attr('x1', xPos)
                .attr('x2', xPos)
                .attr('y1', 0)
                .attr('y2', height)
                .attr('stroke', '#ef4444')
                .attr('stroke-width', 5)
                .attr('opacity', 0.5)
                .attr('stroke-dasharray', '3,3');
            
            // Event label
            eventGroup.append('text')
                .attr('x', xPos)
                .attr('y', height + 65)
                .attr('text-anchor', 'middle')
                .attr('fill', '#ef4444')
                .attr('font-size', '16px')
                .attr('font-weight', 'bold')
                .text(event.label);
        }
    });
}

// Populate think tank menu
function populateThinkTankMenu() {
    const menu = document.getElementById('thinkTankMenu');
    
    data.thinkTanks.forEach((thinkTank, index) => {
        const menuItem = document.createElement('div');
        menuItem.className = 'flex items-center gap-3 px-4 py-3 hover:bg-white/10 cursor-pointer transition-colors';
        menuItem.innerHTML = `
            <img src="${thinkTank.logoUrl}" alt="${thinkTank.name}" class="w-8 h-8 object-contain">
            <div class="flex-1">
                <div class="text-sm font-medium">${thinkTank.name}</div>
                <div class="text-xs text-gray-400">Total: ${thinkTank.total}</div>
            </div>
            <div class="w-3 h-3 rounded-full" style="background-color: ${colorPalette[index]}"></div>
        `;
        
        menuItem.addEventListener('click', () => {
            currentThinkTankIndex = index;
            showThinkTank(index);
            if (isPlaying) startAutoPlay();
        });
        
        menu.appendChild(menuItem);
    });
}

// Auto play functionality
function startAutoPlay() {
    clearTimeout(animationTimeout);
    
    if (isPlaying) {
        animationTimeout = setTimeout(() => {
            navigateThinkTank(1);
        }, 2800); // 1.5s animation + 0.5s pause
    }
}